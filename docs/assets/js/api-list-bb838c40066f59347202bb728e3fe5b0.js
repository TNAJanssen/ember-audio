YUI.add("api-list",function(e){function t(){var e=m.get("queryType");return"classes"===e?f:"elements"===e?d:y}function a(a){var n=e.one(e.config.doc.createDocumentFragment()),s=t(),r=m.get("queryType"),i="classes"===r?"class":"elements"===r?"element":"module";a.results.length?u.each(a.results,function(e){n.append(o.sub(N,{rootPath:c.rootPath,displayName:m.getDisplayName(e.highlighted),name:e.text,typePlural:r,typeSingular:i}))}):n.append('<li class="message">No '+r+" found.</li>"),s.empty(!0),s.append(n),w.refresh()}function n(e){w.refresh()}function s(e){var t=e.target;t.test("input,select,textarea")||t.get("isContentEditable")||(e.preventDefault(),p.focus(),w.refresh())}function r(t){var a=e.one(e.config.doc.createDocumentFragment());t.results.length?u.each(t.results,function(e){a.append(e.display)}):a.append('<li class="message">No results found. Maybe you\'ll have better luck with a different query?</li>'),w.refresh()}function i(e){var t=e.newVal,a=t.get("label").toLowerCase();switch(h.selected={index:t.get("index"),name:a,tab:t},a){case"elements":case"classes":case"modules":m.setAttrs({minQueryLength:0,queryType:a}),v.set("minQueryLength",-1),e.prevVal&&m.sendRequest(m.get("value"));break;case"everything":m.set("minQueryLength",-1),v.set("minQueryLength",1),v.get("value")?v.sendRequest(v.get("value")):p.focus();break;default:m.set("minQueryLength",-1),v.set("minQueryLength",-1)}w&&setTimeout(function(){w.refresh()},1)}function l(t){var a=h.selected.index;if(t.ctrlKey||t.metaKey)switch(t.preventDefault(),t.keyCode){case 37:a>0&&(b.selectChild(a-1),p.focus());break;case 39:a<e.Object.size(h)-2&&(b.selectChild(a+1),p.focus())}}var o=e.Lang,u=e.Array,c=e.namespace("APIList"),f=e.one("#api-classes"),d=e.one("#api-elements"),p=e.one("#api-filter"),y=e.one("#api-modules"),g=e.one("#api-tabview"),h=c.tabs={},m=c.filter=new e.APIFilter({inputNode:p,maxResults:1e3,on:{results:a}}),v=c.search=new e.APISearch({inputNode:p,maxResults:100,on:{clear:n,results:r}}),b=c.tabview=new e.TabView({srcNode:g,panelNode:"#api-tabview-panel",render:!0,on:{selectionChange:i}}),w=c.focusManager=g.plug(e.Plugin.NodeFocusManager,{circular:!0,descendants:"#api-filter, .yui3-tab-panel-selected .api-list-item a, .yui3-tab-panel-selected .result a",keys:{next:"down:40",previous:"down:38"}}).focusManager,N='<li class="api-list-item {typeSingular}"><a href="{rootPath}{typePlural}/{name}.html">{displayName}</a></li>';e.before(function(t,a){if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return new e.Do.Prevent},w,"_focusPrevious",w),e.before(function(t,a){if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return new e.Do.Prevent},w,"_focusNext",w),b.each(function(e,t){var a=e.get("label").toLowerCase();h[a]={index:t,name:a,tab:e}}),g.on("key",l,"down:37,39"),e.one(e.config.doc).on("key",s,"down:83"),p.on("focus",function(){w.set("activeDescendant",p)}),b.get("panelNode").all("a").each(function(e){e.setAttribute("href",e.get("href"))})},"3.4.0",{requires:["api-filter","api-search","event-key","node-focusmanager","tabview"]});